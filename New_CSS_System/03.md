Looking at your kitchen-sink demo, I can see the classless styles are working well. Let me address your questions and provide updated instructions.

## Critical Layout Shift Prevention Updates

### Updated Step 1: Enhanced Reset with Anti-Shift Measures

**Update `src/assets/css/0-critical/reset-and-base.css`:**

Add these at the very top of the reset layer:

```css
@layer reset {
  /* Prevent scrollbar layout shift */
  html {
    overflow-y: scroll; /* Fallback */
  }
  
  @supports (scrollbar-gutter: stable) {
    html {
      overflow-y: auto;
      scrollbar-gutter: stable;
    }
  }
  
  /* Prevent font loading layout shift */
  @font-face {
    font-family: 'system-ui-fallback';
    src: local('system-ui'), local('-apple-system'), local('Segoe UI');
    font-display: swap;
    size-adjust: 100%;
    ascent-override: 90%;
    descent-override: 10%;
    line-gap-override: 0%;
  }
  
  /* Reserve space for images */
  img:not([width]):not([height]) {
    aspect-ratio: 16/9; /* Default aspect ratio */
  }
  
  /* Rest of your reset... */
}
```

### Critical CSS for Above-the-Fold

For 11ty, manual critical CSS is more reliable than automatic extraction. Add this to your base template:

```html
<!-- In your base layout template -->
<style>
  /* Critical inline CSS - only what's needed for first paint */
  :root {
    color-scheme: light dark;
    --header-height: 64px;
    --container-max: 65ch;
  }
  
  body {
    margin: 0;
    background: light-dark(#fdfcfa, #1a1816);
    color: light-dark(#3d3935, #e8e2da);
  }
  
  /* Reserve space for common above-fold elements */
  header { min-height: var(--header-height); }
  main { max-width: var(--container-max); margin: 0 auto; padding: 1.5rem; }
  h1 { font-size: 2.5rem; line-height: 1.2; margin: 0 0 0.5em; }
  p { line-height: 1.6; margin: 0 0 1em; }
</style>
```

## Step 3: Layout Utilities & View Transitions

Create **`src/assets/css/2-layout/containers.css`:**

```css
@layer layout {
  /* Container with no shift */
  .container {
    --container-padding: var(--space-md);
    width: 100%;
    max-width: var(--container-max, 65ch);
    margin-inline: auto;
    padding-inline: var(--container-padding);
    container-type: inline-size;
    container-name: main;
  }
  
  /* Content wrapper - matches your kitchen-sink */
  .content {
    max-width: 65ch;
    margin-inline: auto;
    padding: var(--space-md);
  }
  
  /* Stack layout */
  .stack {
    display: flex;
    flex-direction: column;
    gap: var(--stack-gap, var(--space-md));
  }
  
  .stack-small { --stack-gap: var(--space-sm); }
  .stack-large { --stack-gap: var(--space-lg); }
  
  /* Cluster for inline items */
  .cluster {
    display: flex;
    flex-wrap: wrap;
    gap: var(--cluster-gap, var(--space-sm));
    align-items: center;
  }
  
  /* Grid utilities */
  .grid {
    display: grid;
    gap: var(--grid-gap, var(--space-md));
  }
  
  .grid-auto {
    grid-template-columns: repeat(auto-fit, minmax(min(250px, 100%), 1fr));
  }
  
  /* Responsive via container queries */
  @container main (width > 600px) {
    .container {
      --container-padding: var(--space-lg);
    }
  }
}
```

Create **`src/assets/css/2-layout/view-transitions.css`:**

```css
@layer layout {
  /* Enable cross-document view transitions */
  @view-transition {
    navigation: auto;
  }
  
  /* Persistent elements across pages */
  .site-header {
    view-transition-name: site-header;
  }
  
  .site-nav {
    view-transition-name: site-nav;
  }
  
  .page-title {
    view-transition-name: page-title;
  }
  
  /* Main content area */
  main {
    view-transition-name: main-content;
  }
  
  /* Custom transitions */
  ::view-transition-old(main-content) {
    animation: fade-out 0.2s ease-out;
  }
  
  ::view-transition-new(main-content) {
    animation: fade-in 0.3s ease-out;
  }
  
  @keyframes fade-out {
    from { opacity: 1; }
    to { opacity: 0; transform: translateY(-10px) scale(0.98); }
  }
  
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(10px) scale(0.98); }
    to { opacity: 1; transform: translateY(0) scale(1); }
  }
  
  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    ::view-transition-group(*),
    ::view-transition-old(*),
    ::view-transition-new(*) {
      animation: none !important;
    }
  }
}
```

## Step 3: Component Styles

Create **`src/assets/css/3-components/forms.css`:**

```css
@layer components {
  /* Form elements - enhance the classless base */
  @scope (form) {
    input:not([type="checkbox"]):not([type="radio"]),
    textarea,
    select {
      width: 100%;
      padding: var(--space-xs) var(--space-sm);
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: 6px;
      font: inherit;
      color: inherit;
      transition: border-color 0.2s, box-shadow 0.2s;
    }
    
    input:focus,
    textarea:focus,
    select:focus {
      outline: none;
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px oklch(from var(--color-primary) l c h / 0.1);
    }
    
    /* Checkbox and radio */
    input[type="checkbox"],
    input[type="radio"] {
      accent-color: var(--color-primary);
      width: 1.25em;
      height: 1.25em;
      vertical-align: middle;
    }
    
    label {
      display: block;
      margin-block-end: var(--space-2xs);
      font-weight: var(--font-medium);
    }
    
    /* Field groups */
    .field {
      margin-block-end: var(--space-md);
    }
  }
}
```

## Updated Main Orchestration

Create **`src/assets/css/main.css`:**

```css
/* Define layer order */
@layer reset, tokens, layout, components, utilities;

/* Critical imports */
@import "0-critical/reset-and-base.css" layer(reset);

/* Tokens */
@import "1-tokens/colors.css" layer(tokens);
@import "1-tokens/spacing.css" layer(tokens);
@import "1-tokens/typography.css" layer(tokens);

/* Layout */
@import "2-layout/containers.css" layer(layout);
@import "2-layout/view-transitions.css" layer(layout);

/* Components */
@import "3-components/forms.css" layer(components);

/* Future utilities */
/* @import "4-utilities/utilities.css" layer(utilities); */
```

## Template Integration for View Transitions

In your Vento templates, mark persistent elements:

```html
<!-- layout.vto -->
<header class="site-header">
  <nav class="site-nav">
    <!-- nav content -->
  </nav>
</header>

<main>
  <h1 class="page-title">{{ title }}</h1>
  <!-- page content -->
</main>
```

The view transitions will work automatically between pages in Chrome/Edge. The `navigation: auto` enables them for all same-origin navigations.

For critical CSS, the manual approach I've shown is more reliable than automatic extraction tools which often miss edge cases. The inline critical CSS ensures no layout shift on first paint.

Test this with your current pages - the view transitions should work immediately in supporting browsers when navigating between your pages.